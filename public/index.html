<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ¤– YOUSAF-BALOCH-MD - Pairing Code Generator</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¤–</text></svg>">
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --secondary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --neon-shadow: 0 0 15px rgba(102, 126, 234, 0.5);
        }

        body {
            font-family: 'Space Mono', monospace;
            background: #0f0c29; /* Darker Space theme */
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            position: relative;
            z-index: 1;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            max-width: 500px;
            width: 100%;
            padding: 40px;
            animation: slideUp 0.8s ease-out;
            color: white;
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }

        .logo { font-size: 60px; text-align: center; margin-bottom: 10px; filter: drop-shadow(0 0 10px #667eea); }
        h1 { font-family: 'Orbitron', sans-serif; font-size: 1.8rem; text-align: center; background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: 1px; }
        .subtitle { color: #aaa; font-size: 0.8rem; text-align: center; margin-bottom: 20px; }

        .clock-container { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 15px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05); }
        .clock { font-family: 'Orbitron', sans-serif; font-size: 1.5rem; color: #00f2fe; text-align: center; }
        .date { font-size: 0.7rem; color: #888; text-align: center; }

        .tab-switcher { display: flex; gap: 10px; margin-bottom: 25px; background: rgba(255,255,255,0.1); padding: 5px; border-radius: 15px; }
        .tab-btn { flex: 1; padding: 12px; border: none; background: transparent; color: #ccc; font-weight: bold; border-radius: 10px; cursor: pointer; transition: 0.3s; }
        .tab-btn.active { background: var(--primary-gradient); color: white; box-shadow: var(--neon-shadow); }

        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        input[type="tel"] { width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; background: rgba(0,0,0,0.2); color: white; font-size: 1.1rem; outline: none; transition: 0.3s; margin-top: 10px; }
        input[type="tel"]:focus { border-color: #667eea; box-shadow: var(--neon-shadow); }

        .btn { width: 100%; padding: 15px; border: none; border-radius: 12px; font-family: 'Orbitron', sans-serif; font-weight: bold; cursor: pointer; transition: 0.3s; margin-top: 15px; letter-spacing: 1px; }
        .btn-primary { background: var(--primary-gradient); color: white; }
        .btn-primary:hover { transform: scale(1.02); box-shadow: 0 0 25px rgba(102, 126, 234, 0.6); }

        .spinner { display: none; width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid #00f2fe; border-radius: 50%; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .result { display: none; margin-top: 20px; padding: 20px; background: rgba(67, 233, 123, 0.1); border: 1px solid #43e97b; border-radius: 15px; text-align: center; }
        .pairing-code { font-family: 'Orbitron', sans-serif; font-size: 2rem; color: #43e97b; letter-spacing: 4px; margin: 10px 0; font-weight: 900; }

        #qrcode { background: white; padding: 15px; border-radius: 15px; margin: 15px auto; width: 230px; height: 230px; display: flex; align-items: center; justify-content: center; }
        #qrcode img { width: 100%; height: 100%; }

        .social-links { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 20px; }
        .social-btn { padding: 10px; border-radius: 10px; color: white; font-size: 0.8rem; text-decoration: none; text-align: center; transition: 0.3s; font-weight: bold; }
        .social-whatsapp { background: #25D366; }
        .social-youtube { background: #FF0000; }
        .social-tiktok { background: #000; border: 1px solid #333; }
        .social-phone { background: #34B7F1; }
        .social-btn:hover { transform: translateY(-2px); opacity: 0.9; }

        .owner-card { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; margin-top: 20px; border-left: 4px solid #f093fb; }
        .owner-card p { font-size: 0.8rem; margin: 2px 0; }
    </style>
</head>
<body>

    <div class="container">
        <div class="logo">ðŸ¤–</div>
        <h1>YOUSAF-BALOCH-MD</h1>
        <p class="subtitle">Premium WhatsApp MD System</p>

        <div class="clock-container">
            <div class="clock" id="clock">00:00:00</div>
            <div class="date" id="date">Loading...</div>
        </div>

        <div class="tab-switcher">
            <button class="tab-btn active" id="btn-phone" onclick="switchTab('phone')">ðŸ“± Pairing</button>
            <button class="tab-btn" id="btn-qr" onclick="switchTab('qr')">ðŸ“· QR Code</button>
        </div>

        <div id="phone-tab" class="tab-content active">
            <label style="font-size: 0.8rem; color: #ccc;">Enter Number with Country Code:</label>
            <input type="tel" id="phoneNumber" placeholder="923710636110">
            <button class="btn btn-primary" onclick="getPairingCode()">âš¡ GENERATE CODE</button>
            
            <div class="spinner" id="spinner"></div>
            <div class="result" id="result">
                <p style="font-size: 0.8rem;">Your Pairing Code:</p>
                <div class="pairing-code" id="pairingCode">----</div>
                <p style="font-size: 0.7rem; color: #43e97b;">Enter this code in Linked Devices</p>
            </div>
        </div>

        <div id="qr-tab" class="tab-content">
            <div id="qrcode">
                <p style="color: #666; font-size: 0.7rem; text-align: center;">Initializing QR...</p>
            </div>
            <button class="btn btn-primary" style="background: var(--secondary-gradient);" onclick="loadQR()">ðŸ”„ REFRESH QR</button>
        </div>

        <div class="owner-card">
            <p><strong>Dev:</strong> Muhammad Yousaf Baloch</p>
            <p><strong>Contact:</strong> +923710636110</p>
            <p><strong>Status:</strong> Professional MD Bot</p>
        </div>

        <div class="social-links">
            <a href="https://whatsapp.com/channel/0029Vb3Uzps6buMH2RvGef0j" class="social-btn social-whatsapp">WhatsApp</a>
            <a href="https://www.youtube.com/@Yousaf_Baloch_Tech" class="social-btn social-youtube">YouTube</a>
            <a href="https://tiktok.com/@loser_boy.110" class="social-btn social-tiktok">TikTok</a>
            <a href="tel:923710636110" class="social-btn social-phone">Call Dev</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        // Clock Function
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toLocaleTimeString();
            document.getElementById('date').textContent = now.toDateString();
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Tab Switcher
        function switchTab(tab) {
            document.getElementById('phone-tab').classList.remove('active');
            document.getElementById('qr-tab').classList.remove('active');
            document.getElementById('btn-phone').classList.remove('active');
            document.getElementById('btn-qr').classList.remove('active');

            if(tab === 'phone') {
                document.getElementById('phone-tab').classList.add('active');
                document.getElementById('btn-phone').classList.add('active');
            } else {
                document.getElementById('qr-tab').classList.add('active');
                document.getElementById('btn-qr').classList.add('active');
                loadQR();
            }
        }

        // Get Pairing Code
        async function getPairingCode() {
            const num = document.getElementById('phoneNumber').value.replace(/[^0-9]/g, '');
            if(!num) return alert("Please enter valid number!");
            
            const spinner = document.getElementById('spinner');
            const result = document.getElementById('result');
            
            spinner.style.display = "block";
            result.style.display = "none";

            try {
                // Change '/pairing' to your actual backend endpoint
                const response = await fetch('/pairing?code=' + num);
                const data = await response.json();
                spinner.style.display = "none";
                
                if(data.code) {
                    document.getElementById('pairingCode').innerText = data.code;
                    result.style.display = "block";
                } else {
                    alert("WhatsApp Refused Connection. Try again later.");
                }
            } catch (err) {
                spinner.style.display = "none";
                alert("Server Error! Make sure your bot is running.");
            }
        }

        // Load QR Code
        async function loadQR() {
            const qrDiv = document.getElementById('qrcode');
            qrDiv.innerHTML = '<p style="color: #666; font-size: 0.7rem;">Generating QR...</p>';
            
            try {
                const response = await fetch('/qr'); // Your QR endpoint
                const data = await response.json();
                if(data.qr) {
                    qrDiv.innerHTML = "";
                    new QRCode(qrDiv, {
                        text: data.qr,
                        width: 200,
                        height: 200
                    });
                }
            } catch (err) {
                qrDiv.innerHTML = '<p style="color:red">Failed to load QR</p>';
            }
        }
    </script>
</body>
</html>
